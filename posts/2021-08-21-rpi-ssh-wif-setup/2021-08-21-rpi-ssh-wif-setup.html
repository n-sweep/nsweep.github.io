<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.33">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="n sweep">
<meta name="dcterms.date" content="2021-08-21">
<meta name="description" content="Enable SSH and WiFi on Your New Raspberry Pi Before Booting!">

<title>Raspberry Pi: Enable SSH &amp; Wifi on First Boot ‚Äì cd ~/sweep.sh/website</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../.././assets/images/oldmanbyersfavicon.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-07ba0ad10f5680c660e360ac31d2f3b6.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark-8b864f0777c60eecff11d75b6b2e1175.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-0ac8b102c8b4e166eab4b77b8526d00a.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark-bf48894771b67497380a4a71ed34500b.min.css" rel="prefetch" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">cd ~/sweep.sh/website</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../learn.html"> 
<span class="menu-text">./learn</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blog.html"> 
<span class="menu-text">./blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">./about_me</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../../blog.html"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools tools-wide">
    <a href="https://linkedin.com/noah-shreve" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-linkedin"></i></a>
    <a href="https://github.com/n-sweep" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
    <a href="https://github.com/n-sweep/n-sweep.github.io" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-code-slash"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Raspberry Pi: Enable SSH &amp; Wifi on First Boot</h1>
                  <div>
        <div class="description">
          Enable SSH and WiFi on Your New Raspberry Pi Before Booting!
        </div>
      </div>
                </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>n sweep </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">August 21, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#contents" id="toc-contents" class="nav-link active" data-scroll-target="#contents">Contents:</a></li>
  <li><a href="#i-love-raspberry-pi" id="toc-i-love-raspberry-pi" class="nav-link" data-scroll-target="#i-love-raspberry-pi">I <em>love</em> Raspberry Pi ü•ß</a></li>
  <li><a href="#prep-the-sd-card" id="toc-prep-the-sd-card" class="nav-link" data-scroll-target="#prep-the-sd-card">Prep the SD Card</a>
  <ul class="collapse">
  <li><a href="#download-an-operating-system" id="toc-download-an-operating-system" class="nav-link" data-scroll-target="#download-an-operating-system">Download an Operating System</a></li>
  <li><a href="#flash-the-micro-sd" id="toc-flash-the-micro-sd" class="nav-link" data-scroll-target="#flash-the-micro-sd">Flash the Micro SD</a></li>
  </ul></li>
  <li><a href="#enable-ssh-wifi" id="toc-enable-ssh-wifi" class="nav-link" data-scroll-target="#enable-ssh-wifi">Enable SSH &amp; WiFi</a>
  <ul class="collapse">
  <li><a href="#enabling-ssh" id="toc-enabling-ssh" class="nav-link" data-scroll-target="#enabling-ssh">Enabling SSH</a></li>
  <li><a href="#enabling-wifi-with-wpa_supplicant.conf" id="toc-enabling-wifi-with-wpa_supplicant.conf" class="nav-link" data-scroll-target="#enabling-wifi-with-wpa_supplicant.conf">Enabling WiFi with <code>wpa_supplicant.conf</code> <span id="enabling-wifi"></span></a>
  <ul class="collapse">
  <li><a href="#and-thats-it" id="toc-and-thats-it" class="nav-link" data-scroll-target="#and-thats-it">And That‚Äôs It!</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#connecting-to-the-pi" id="toc-connecting-to-the-pi" class="nav-link" data-scroll-target="#connecting-to-the-pi">Connecting to the Pi</a>
  <ul class="collapse">
  <li><a href="#connect-over-the-terminal-with-ssh" id="toc-connect-over-the-terminal-with-ssh" class="nav-link" data-scroll-target="#connect-over-the-terminal-with-ssh">Connect Over the Terminal with SSH</a>
  <ul class="collapse">
  <li><a href="#a-little-housekeeping" id="toc-a-little-housekeeping" class="nav-link" data-scroll-target="#a-little-housekeeping">A Little Housekeeping</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#appendix" id="toc-appendix" class="nav-link" data-scroll-target="#appendix">Appendix</a>
  <ul class="collapse">
  <li><a href="#optional-using-the-desktop-gui-remotely-with-vnc" id="toc-optional-using-the-desktop-gui-remotely-with-vnc" class="nav-link" data-scroll-target="#optional-using-the-desktop-gui-remotely-with-vnc">Optional: Using the Desktop GUI Remotely with VNC</a></li>
  <li><a href="#troubleshooting-wifi-not-connecting" id="toc-troubleshooting-wifi-not-connecting" class="nav-link" data-scroll-target="#troubleshooting-wifi-not-connecting">Troubleshooting: WiFi not Connecting?</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p><img src="./images/Raspberry_pie.jpg"></p>
<section id="contents" class="level3">
<h3 class="anchored" data-anchor-id="contents">Contents:</h3>
<ul>
<li><a href="#prep-the-sd-card">Prep the SD Card</a>
<ul>
<li><a href="#download-an-operating-system">Download an Operating System</a></li>
<li><a href="#flash-the-micro-sd">Flash the SD Card</a></li>
</ul></li>
<li><a href="#enable-ssh--wifi">Enable SSH &amp; WiFi</a>
<ul>
<li><a href="#enabling-ssh">SSH</a></li>
<li><a href="#enabling-wifi">WPA Supplicant</a></li>
</ul></li>
<li><a href="#connecting-to-the-pi">Connect to the Pi</a>
<ul>
<li><a href="#connect-over-the-terminal-with-ssh">Open Connection with SSH</a></li>
<li><a href="#a-little-housekeeping">Secure &amp; Update the Pi</a></li>
</ul></li>
<li><a href="#appendix">Appendix</a>
<ul>
<li><a href="#optional-using-the-desktop-gui-remotely-with-vnc">Optional: Using the Desktop GUI Remotely with VNC</a></li>
<li><a href="#troubleshooting-wifi-not-connecting">Troubleshooting: WiFi not Connecting?</a></li>
</ul></li>
</ul>
</section>
<section id="i-love-raspberry-pi" class="level3">
<h3 class="anchored" data-anchor-id="i-love-raspberry-pi">I <em>love</em> <a href="http://www.raspberrypi.org">Raspberry Pi</a> ü•ß</h3>
<p>And if you don‚Äôt, well, that‚Äôs an opinion and that‚Äôs okay. But for those of you who share my sentiment, you‚Äôve likely found yourself in a similar situation:</p>
<p>You‚Äôve got a brand new Pi, fresh from the oven - maybe it‚Äôs your first one - and now it‚Äôs time to boot it up! But‚Ä¶ it‚Äôs just a little circuit board, it has no screen. No keyboard, touchpad or mouse either.</p>
<p>That‚Äôs no problem, though, it has an HDMI out! And (if you have the model B) 4 whole USB ports! So you reach into the nest of cables behind your tower to unplug your second monitor. Whoops, wrong one. Okay, next is a keyboard. You want to keep using your PC in case you need to troubleshoot, though. But there‚Äôs an old wired keyboard in the closet! Hmm, it‚Äôs a PS2 connection. You‚Äôre sure have an adaptor somewhere though‚Ä¶</p>
<p>And finally, hours later, your Pi is officially booted! But now it‚Äôs time for dinner and you‚Äôre kind of over the initial excitement of your new toy. And boy, do you not want to have to go through all of that again when you inevitably get your next Pi. I know I didn‚Äôt.</p>
<p>But, what if I told you it didn‚Äôt have to be this way? What if I told you we could skip all this inconvenience with nothing more than a couple little text files? What if I told you I thought I was going to make a <em>Matrix</em> reference, but Laurence Fishburne never actually says the words ‚Äòwhat if I told you‚Ä¶‚Äô in his monologue to Keanu?</p>
</section>
<section id="prep-the-sd-card" class="level1">
<h1>Prep the SD Card</h1>
<blockquote class="blockquote">
<h3 id="note" class="anchored"><strong>Note:</strong></h3>
<p>If you purchased a new Raspberry Pi, it probably came with a micro SD card. If it did not, pause here and acquire yourself one! We‚Äôll need it to move any further.</p>
</blockquote>
<p>Right, let‚Äôs take a step back here. Before we can do anything with the Pi we need to install an operating system to boot. The Raspberry Pi doesn‚Äôt use a traditional hard drive with a SATA connection - instead, the whole operating system runs from flash memory on a micro SD card. So let‚Äôs get ourselves an OS and prepare our SD card.</p>
<section id="download-an-operating-system" class="level2">
<h2 class="anchored" data-anchor-id="download-an-operating-system">Download an Operating System</h2>
<p>Raspberry Pi is almost 10 years old now and there are a host of operating systems that the little board can run, but today we‚Äôre going to use the standard <em>Raspberry Pi OS</em> developed by the <a href="https://www.raspberrypi.org/about/">Raspberry Pi Foundation</a> for their namesake <a href="https://en.wikipedia.org/wiki/Single-board_computer">SBC</a>. Head on over to the <a href="https://www.raspberrypi.org/software/operating-systems/#raspberry-pi-os-32-bit">downloads page</a> and choose the version that‚Äôs best for you.</p>
<p><img src="./images/download_rpi_os.jpg" width="800"></p>
<p>Most of the time I don‚Äôt need a GUI for my Pis so I‚Äôm choosing Lite, but if you want a desktop, go for it! (If you do, the middle selection is probably the best choice - we can always install more software later, and the recommended software download is almost 2.5x the size.) We‚Äôll talk a little later about <a href="#optional-using-the-desktop-gui-remotely-with-vnc">using the GUI remotely</a>.</p>
</section>
<section id="flash-the-micro-sd" class="level2">
<h2 class="anchored" data-anchor-id="flash-the-micro-sd">Flash the Micro SD</h2>
<p>Now to flash our OS onto the micro SD card. There are <a href="https://www.raspberrypi.org/documentation/installation/installing-images/linux.md">many</a> <a href="https://www.raspberrypi.org/documentation/installation/installing-images/mac.md">different</a> <a href="https://www.raspberrypi.org/documentation/installation/installing-images/windows.md">ways</a> to accomplish this and today I‚Äôll be using a Windows machine to flash the disk using <a href="https://www.balena.io/etcher/">balenaEcher</a> (which is also available on Mac OS). Select your OS image, <strong>make sure you‚Äôre choosing the correct drive</strong>, and before you click <strong>Flash!</strong>, <strong><em>check again that you‚Äôve chosen the correct drive.</em></strong> The flashing process may take a few minutes. (Hopefully you chose the correct drive.)</p>
<p><img src="./images/balena_rpi_os.jpg"></p>
</section>
</section>
<section id="enable-ssh-wifi" class="level1">
<h1>Enable SSH &amp; WiFi</h1>
<blockquote class="blockquote">
<h3 id="notes" class="anchored"><strong>Notes:</strong></h3>
<ol type="1">
<li>I‚Äôve had trouble in the past getting the initial WiFi setup to work with other operating systems, such as DietPi. However, enabling SSH has always worked for me. If this is the case for you, just enable SSH, connect via ethernet and <a href="#troubleshooting-wifi-not-connecting">set up WiFi manually</a>.</li>
<li>If you have a model of Pi without WiFi capabilities, skip the ‚ÄúEnabling WiFi with <code>wpa_supplicant.conf</code>‚Äù section. You can still enable SSH and connect to your Pi via ethernet.</li>
</ol>
</blockquote>
<p>You may need to eject and re-insert the card for it to show up in your filesystem. Once we‚Äôve done that, you‚Äôll notice the drive has been renamed <code>boot</code> and is full of new files. We don‚Äôt want to change anything in here, we‚Äôll only be adding two new configuration files. Follow the instructions below to create the necessary files.</p>
<section id="enabling-ssh" class="level2">
<h2 class="anchored" data-anchor-id="enabling-ssh">Enabling SSH</h2>
<p>First, we‚Äôll create an <em>empty</em> file named <code>ssh</code> with <em>no file extension</em>. If you‚Äôre using the terminal/command line, navigate into your mounted drive and enter one of the following commands based on your operating system. Easy!</p>
<section id="unix-linux-mac-os" class="level4">
<h4 class="anchored" data-anchor-id="unix-linux-mac-os">Unix (Linux / Mac OS)</h4>
<p><code>touch ssh</code></p>
</section>
<section id="windows" class="level4">
<h4 class="anchored" data-anchor-id="windows">Windows</h4>
<p><code>echo &gt; ssh</code></p>
<p>If you aren‚Äôt using the terminal/command line, this can also be done with a raw text editor like Notepad (or your favorite IDE). Simply open your editor and save the empty file with no extension - just make sure it‚Äôs a raw text editor (or IDE) and <strong>not</strong> a word processor like Microsoft Word!</p>
</section>
</section>
<section id="enabling-wifi-with-wpa_supplicant.conf" class="level2">
<h2 class="anchored" data-anchor-id="enabling-wifi-with-wpa_supplicant.conf">Enabling WiFi with <code>wpa_supplicant.conf</code> <span id="enabling-wifi"></span></h2>
<p>Next, we‚Äôll specify our WiFi credentials with a file called <code>wpa_supplicant.conf</code>. Just like before, make sure to create this file with an IDE or raw text editor. Linux / Mac OS users can create and edit this file all in the terminal with the command <code>nano wpa_supplicant.conf</code>. Windows doesn‚Äôt offer a native way to edit files in the command line, but you can open Notepad easily with the command <code>notepad wpa_supplicant.conf</code>.</p>
<p>Unlike our <code>ssh</code> file, this one needs some content to have an effect. The example below is pretty basic, but it works for me. (If you have any trouble, check the <a href="https://man.voidlinux.org/wpa_supplicant.conf">documentation</a>.) Just replace <code>network_name</code> with the SSID you‚Äôd like the Pi to connect to and replace <code>password</code> with the associated password.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="va">country</span><span class="op">=</span>us</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="va">update_config</span><span class="op">=</span>1</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="va">ctrl_interface</span><span class="op">=</span>/var/run/wpa_supplicant</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="va">network</span><span class="op">=</span>{</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a> <span class="va">scan_ssid</span><span class="op">=</span>1</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a> <span class="va">ssid</span><span class="op">=</span><span class="st">"network_name"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a> <span class="va">psk</span><span class="op">=</span><span class="st">"password"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="and-thats-it" class="level3">
<h3 class="anchored" data-anchor-id="and-thats-it">And That‚Äôs It!</h3>
<p>Finally we can eject our SD card, insert it into the Pi and power it up! Give it a few moments to boot, and a few moments longer for it to connect to the network if you‚Äôre using WiFi.</p>
</section>
</section>
</section>
<section id="connecting-to-the-pi" class="level1">
<h1>Connecting to the Pi</h1>
<p>Now that our Pi is booted and connected to the network, we can connect to it with our local machine, but to do this we first need the Pi‚Äôs IP address. Often, the easiest way to do this is via the Devices list in your router‚Äôs web interface.</p>
<p>Your router‚Äôs IP address is typically something like <code>192.168.1.1</code> (mine is <code>192.168.0.1</code>) and you can connect to it by visiting that IP address in your web browser, e.g.&nbsp;http://192.168.1.1/. All routers are different, but a quick Google search with your router‚Äôs make and model number plus the words ‚Äúweb interface‚Äù should help you navigate yours. If you don‚Äôt know the login credentials, they are usually printed on a label somewhere on the router.</p>
<p>Once there, navigate to your router‚Äôs Devices or Clilents list and look for an IP address with the hostname ‚Äúraspberrypi‚Äù - this is the default for a machine running Raspberry Pi OS. My Pi was given the IP address <code>192.168.0.41</code>, yours will probably be different.</p>
<blockquote class="blockquote">
<h3 id="notes-1" class="anchored"><strong>Notes</strong>:</h3>
<p>If you aren‚Äôt having luck interfacing with your router, the <a href="https://www.raspberrypi.org/documentation/computers/remote-access.html">Raspberry Pi Documentation</a> offers up some additional terminal-based methods for determining your IP address.</p>
</blockquote>
<section id="connect-over-the-terminal-with-ssh" class="level2">
<h2 class="anchored" data-anchor-id="connect-over-the-terminal-with-ssh">Connect Over the Terminal with SSH</h2>
<p>The time has come at last, we can finally connect with our Pi for real. Using our newly minted IP address, we‚Äôll open up our terminal/command line and use the command <code>ssh pi@&lt;your-ip-address&gt;</code> to open a <a href="https://en.wikipedia.org/wiki/Secure_Shell">secure shell</a> connection to the Pi. The default password for a new Raspberry Pi OS install is <code>raspberry</code>.</p>
<p>Connecting for the first time will look something like this:</p>
<p><img src="./images/ssh.gif"></p>
<section id="a-little-housekeeping" class="level3">
<h3 class="anchored" data-anchor-id="a-little-housekeeping">A Little Housekeeping</h3>
<p>Using our SSH connection, we‚Äôll take two more quick steps to ensure our Pi is updated and secure:</p>
<ol type="1">
<li>Remember that default password of <code>raspberry</code>? That‚Äôs not terribly secure, so let‚Äôs change it with the command <code>passwd</code>.</li>
<li>We‚Äôll <code>update</code> and <code>upgrade</code> our software to make sure everything‚Äôs up to date. These commands will take a bit of time, but you can chain them together with ‚Äú<code>&amp;</code>‚Äù, automatically answer yes to the <code>upgrade</code> command with the flag ‚Äú<code>-y</code>‚Äù, and go pour yourself some coffee while the process completes.</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Change the default password</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Remember, your passwords will not display as you type them</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> passwd</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">Changing</span> password for pi.</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">Current</span> password:</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="ex">New</span> password:</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="ex">Retype</span> new password:</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="ex">passwd:</span> password updated successfully</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Update &amp; Upgrade</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get update</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get upgrade</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># OR</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Chain together &amp; answer 'yes'</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> sudo apt-get update <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt-get upgrade <span class="at">-y</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Now we wait!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>And congratulations, your Pi is ready to go! I can‚Äôt wait to see what you make with it!</p>
<p><br></p>
<section id="until-next-time" class="level4">
<h4 class="anchored" data-anchor-id="until-next-time">Until next time</h4>
<p><br> <br></p>
</section>
</section>
</section>
</section>
<section id="appendix" class="level1">
<h1>Appendix</h1>
<section id="optional-using-the-desktop-gui-remotely-with-vnc" class="level2">
<h2 class="anchored" data-anchor-id="optional-using-the-desktop-gui-remotely-with-vnc">Optional: Using the Desktop GUI Remotely with VNC</h2>
<p>So you downloaded the Raspberry Pi OS with desktop and now you want to use the GUI instead of a boring old terminal connection? No problem, we can do that with VNC!</p>
<blockquote class="blockquote">
<p><strong>From <a href="https://en.wikipedia.org/wiki/Virtual_Network_Computing">Wikipedia</a>:</strong><br>
Virtual Network Computing (VNC) is a graphical desktop-sharing system that uses the Remote Frame Buffer protocol (RFB) to remotely control another computer. It transmits the keyboard and mouse input from one computer to another, relaying the graphical-screen updates, over a network.</p>
</blockquote>
<p>Raspberry Pi OS comes pre-loaded with <a href="https://www.realvnc.com/en/">RealVNC</a>‚Äôs VNC Server, allowing it to be controlled remotely by another computer. To use it, we need to:</p>
<section id="enable-vnc-server-on-the-raspberry-pi" class="level4">
<h4 class="anchored" data-anchor-id="enable-vnc-server-on-the-raspberry-pi">- Enable VNC Server on the Raspberry Pi</h4>
<ol type="1">
<li>Connect to your Pi via SSH using the <a href="#connect-over-the-terminal-with-ssh">instructions above</a>.</li>
<li>Start the configuration tool with the command <code>sudo raspi-config</code>. You‚Äôll be met with a screen like this: <img src="./images/raspi-config.jpg" width="800"></li>
<li>Navigate to <code>Interface Options</code>, then <code>VNC</code> and answer ‚ÄòYes‚Äô when asked to enable VNC.</li>
</ol>
</section>
<section id="install-vnc-viewer-on-our-local-machine-and-connect" class="level4">
<h4 class="anchored" data-anchor-id="install-vnc-viewer-on-our-local-machine-and-connect">- Install VNC Viewer on our Local Machine and Connect!</h4>
<ol type="1">
<li>Visit the VNC Viewer <a href="https://www.realvnc.com/en/connect/download/viewer/">download page</a> and install the appropriate software on your local machine.</li>
<li>Run the VNC viewer and enter your Pi‚Äôs IP address in the bar at the top of the window. (The application will warn us that it doesn‚Äôt regonize this server, which is normal since this is the first time we‚Äôve connected to it.)</li>
<li>Finally, enter your credentials and voil√†! You can use the Raspberry Pi‚Äôs desktop right in the VNC Viewer window!</li>
</ol>
<p><img src="./images/raspi-desktop.jpg"></p>
</section>
</section>
<section id="troubleshooting-wifi-not-connecting" class="level2">
<h2 class="anchored" data-anchor-id="troubleshooting-wifi-not-connecting">Troubleshooting: WiFi not Connecting?</h2>
<p>Trying to connect via WiFi and can‚Äôt seem to find your Pi‚Äôs IP address on your network? First, make sure your model of Pi actually supports WiFi! Once you‚Äôve done that, you may want to double-check the credentials in your <code>wpa_supplicant.conf</code> file and try again, but it‚Äôs typically faster and easier to just connect via ethernet, <code>ssh</code> into the machine and set up WiFi manually with the <code>raspi-config</code> tool.</p>
<ol type="1">
<li>Connect to your Pi via SSH using the <a href="#connect-over-the-terminal-with-ssh">instructions above</a>.</li>
<li>Start the configuration tool with the command <code>sudo raspi-config</code>. You‚Äôll be met with a screen like <a href="#enable-vnc-server-on-the-raspberry-pi">the one above</a>.</li>
<li>Choose <code>System Options</code> and then <code>Wireless LAN</code>. You‚Äôll be asked for your SSID and password, and you‚Äôre done!</li>
</ol>
<p><br></p>
<hr>


</section>
</section>

<p><br><br>This page lovingly generated by <a href="https://quarto.org/">Quarto</a> ‚ù§Ô∏è</p></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/n-sweep\.github\.io");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>